var __extends=this.__extends||function(n,t){function i(){this.constructor=n}i.prototype=t.prototype,n.prototype=new i};define(["require","exports","./Views","./Models","./ViewModels","../../js/libs/GL/GL","namespace","backbone","namespace","marionette","underscore"],function(n,t,i,r,u,f){var v=n("namespace"),w=n("backbone"),b=n("marionette"),k=n("jquery"),o=n("underscore"),e=i,s=r,h=u,y=f,c=v.app,p=c.module("Typed"),l=function(n){function t(t){this.Controller=new a,this.routes={"d/Detail/:id":"LoadDetail",AddNew:"AddNew","*actions":"home"},n.call(this,t)}return __extends(t,n),t.prototype.beforeRoute=function(){return this.Controller.InitializeLayout(),!0},t}(y.ModuleRouter),a;t.Router=l,a=function(){function n(){}return n.prototype.InitializeLayout=function(){if(this.Layout===undefined||this.Layout.isClosed!=!1){var n=new e.MainView;c.content.show(n),this.Layout=n,this.LoadGrid()}},n.prototype.LoadGrid=function(){this.persons==undefined&&(this.persons=new s.Persons([{id:"0",Name:"Saqib",FName:"Shakil"},{id:"1",Name:"Talha",FName:"Yousuf"},{id:"2",Name:"Nouman",FName:"Berlas"},{id:"3",Name:"Aqeel",FName:"Khandwala"}]));var n=new e.TableView({collection:this.persons});this.Layout.grid.show(n)},n.prototype.LoadDetail=function(n){var t=o.find(this.persons.models,function(t){return t.id==n}),i=new h.PersonViewModel(t),r;i.controller=this,r=new e.PersonView({model:t,viewModel:i}),this.Layout.detail.show(r)},n.prototype.Save=function(n){if(n.isNew()||n.id==""){var t;t=o.max(this.persons.models,function(n){return n.id}).id*1,n.set("id",t+1),this.persons.add(n)}this.Layout.detail.closeView()},n.prototype.AddNew=function(){var n=new s.Person,t=new h.PersonViewModel(n),i;t.controller=this,i=new e.PersonView({model:n,viewModel:t}),this.Layout.detail.show(i)},n.prototype.home=function(){},n}(),p.Router=l})