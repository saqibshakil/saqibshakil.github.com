var __extends=this.__extends||function(n,t){function i(){this.constructor=n}i.prototype=t.prototype,n.prototype=new i};define(["require","exports","./Views","./Models","../../js/libs/GL/GL","namespace","backbone","namespace","marionette","underscore"],function(n,t,i,r,u){var l=n("namespace"),v=n("backbone"),y=n("marionette"),p=n("jquery"),w=n("underscore"),f=i,e=r,s=u,o=l.app,a=o.module("Typed"),h=function(n){function t(t){this.Controller=new c,this.routes={"d/Detail/:id":"LoadDetail",AddNew:"AddNew","Talha/:text":"BreakChair","*actions":"home"},n.call(this,t)}return __extends(t,n),t.prototype.beforeRoute=function(){return this.Controller.InitializeLayout(),!0},t}(s.ModuleRouter),c;t.Router=h,c=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.InitializeLayout=function(){if(this.Layout===undefined||this.Layout.isClosed!=!1){var n=new f.MainView;o.content.show(n),this.Layout=n,this.LoadGrid()}},t.prototype.LoadGrid=function(){this.persons==undefined&&(this.persons=new e.Persons),this.persons.fetch();var n=new f.TableView({collection:this.persons});this.Layout.grid.show(n)},t.prototype.LoadDetail=function(n){var t=this.persons.get(n),i=new e.PersonViewModel(t,this),r=new f.PersonView({viewModel:i});this.Layout.detail.show(r)},t.prototype.BreakChair=function(n){alert("Culprit is Talha"+n)},t.prototype.Save=function(n){n=this.persons.create(n.toJSON()),this.persons.localStorage.update(n),this.Layout.detail.closeView(),o.Router.navigate("",!1)},t.prototype.AddNew=function(){var n=new e.Person,t=new e.PersonViewModel(n,this),i=new f.PersonView({viewModel:t});this.Layout.detail.show(i)},t.prototype.home=function(){},t}(s.Controller),a.Router=h})