(function(n){typeof define=="function"&&define.amd?define(["underscore","backbone"],n):n(_,Backbone)})(function(n,t){t.SubRoute=t.Router.extend({constructor:function(i,r){var u={},f,e;this.prefix=i=i||"",this.separator=i.slice(-1)==="/"?"":"/",f=r&&r.createTrailingSlashRoutes,n.each(this.routes,function(n,t){t?(t.substr(0)==="/"&&(t=t.substr(1,t.length)),u[i+this.separator+t]=n,f&&(u[i+this.separator+t+"/"]=n)):(u[i]=n,f&&(u[i+"/"]=n))},this),this.routes=u,t.Router.prototype.constructor.call(this,r),e=t.history.fragment?t.history.getFragment():t.history.getHash(),t.history.loadUrl(e)},navigate:function(n,i){n.substr(0,1)!="/"&&n.indexOf(this.prefix.substr(0,this.prefix.length-1))!=0&&(n=this.prefix+(n?this.separator:"")+n),t.Router.prototype.navigate.call(this,n,i)}})});
//@ sourceMappingURL=backbone-subroute.min.js.map